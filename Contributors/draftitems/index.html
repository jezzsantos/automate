
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Templatize patterns from your own codebase, make them programmable, then share them with your team">
      
      
      
        <link rel="canonical" href="https://jezzsantos.github.io/automate/Contributors/draftitems/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>DraftItem - automate</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Source Sans Pro";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#draftitem" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="automate" class="md-header__button md-logo" aria-label="automate" data-md-component="logo">
      
  <img src="../../logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            automate
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              DraftItem
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="amber"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="yellow"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/jezzsantos/automate/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="automate" class="md-nav__button md-logo" aria-label="automate" data-md-component="logo">
      
  <img src="../../logo.svg" alt="logo">

    </a>
    automate
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jezzsantos/automate/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howitworks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How It Works
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluating/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evaluating automate
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Your First Toolkit
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developers Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Developers Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Command Line (CLI)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Command Line (CLI)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../runtime/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Toolkits
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../authoring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Making Toolkits
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../clioptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Additional Options
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Jetbrains Rider Plugin
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Jetbrains Rider Plugin
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation-rider-plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install Plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../runtime-plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Toolkits
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../authoring-plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Making Toolkits
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reference
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    About
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/jezzsantos/automate" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/jezzsantos/automate/blob/main/LICENSE" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/jezzsantos/automate/releases" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Releases
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributors
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../privacy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Privacy
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#schema" class="md-nav__link">
    <span class="md-ellipsis">
      Schema
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Schema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#draftpattern" class="md-nav__link">
    <span class="md-ellipsis">
      DraftPattern
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#draftelement" class="md-nav__link">
    <span class="md-ellipsis">
      DraftElement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#draftcollection" class="md-nav__link">
    <span class="md-ellipsis">
      DraftCollection
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DraftCollection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#draftcollectionitem" class="md-nav__link">
    <span class="md-ellipsis">
      DraftCollectionItem
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#draftattribute" class="md-nav__link">
    <span class="md-ellipsis">
      DraftAttribute
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lifecycle" class="md-nav__link">
    <span class="md-ellipsis">
      Lifecycle
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lifecycle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#materialisation" class="md-nav__link">
    <span class="md-ellipsis">
      Materialisation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="draftitem">DraftItem<a class="headerlink" href="#draftitem" title="Permanent link">#</a></h1>
<p>A DraftItem is the representation of an instance of a Pattern, Element/Collection or Attribute.</p>
<p>It represents an abstraction of both the current state (eg. value of) plus the Schema information about the item.</p>
<h2 id="schema">Schema<a class="headerlink" href="#schema" title="Permanent link">#</a></h2>
<p>The structure of any DraftItem must comply with the schema of the pattern that underpins it. Every DraftItem has a schema underpinning it.</p>
<p>The underpinning schema is defined as either: <code>Pattern</code>, <code>Element</code>, or <code>Attribute</code> defined by the Toolkit that creates the Draft.</p>
<p>For <code>DraftItem</code>s, we further expand the set of possible types (based on some common behaviours) to include: <code>DraftCollection</code>.</p>
<h3 id="draftpattern">DraftPattern<a class="headerlink" href="#draftpattern" title="Permanent link">#</a></h3>
<p>A <code>DraftItem</code> that represents a <code>Pattern</code></p>
<ul>
<li>There must be one and only one instance of it (essentially <code>Cardinality=One</code>)</li>
<li>It behaves just like any other <code>Element</code> apart from the fact that it cannot be deleted (unmaterialised).</li>
<li>It is always materialised when a draft is created (<code>AutoCreate =true</code>).</li>
<li>It has no <code>Parent</code></li>
</ul>
<h3 id="draftelement">DraftElement<a class="headerlink" href="#draftelement" title="Permanent link">#</a></h3>
<p>A <code>DraftItem</code> that represents an <code>Element</code>, where <code>Element.Cardinality=One or ZeroOrOne</code></p>
<ul>
<li>There can be at most one instance of it (determined by <code>Element.Cardinality</code>)</li>
<li>It can have one or more properties (DraftAttributes), in its collection of <code>Properties</code></li>
<li>
<p>It can have any number of child DraftElement or DraftCollection, also in its collection of <code>Properties</code></p>
</li>
<li>
<p>It can be deleted (unmaterialised).</p>
</li>
<li>It must have a <code>Parent</code>, and that parent <code>DraftItem</code> is the representation of the logical parent defined in the <code>PatternDefinition</code></li>
</ul>
<h3 id="draftcollection">DraftCollection<a class="headerlink" href="#draftcollection" title="Permanent link">#</a></h3>
<p>A <code>DraftItem</code> that represents an <code>Element</code>, where <code>Element.Cardinality=ZeroOrMany or OneOrMany</code>.</p>
<p>Also known as an "Ephemeral Collection", since it has no <code>Value</code> (or <code>Properties</code>).</p>
<ul>
<li>There can be at most one instance of it (essentially <code>Cardinality=One or ZeroOrOne</code>)</li>
<li>It has <code>ZeroOrMany or OneOrMany</code> "Collection Items", in its collection of <code>Items</code><ul>
<li>Each "Collection Item" is itself a DraftElement or DraftCollection, which adopts the schema of the underlying <code>Element</code> of this DraftCollection.</li>
</ul>
</li>
<li>It cannot have any child (DraftAttributes), in its collection of <code>Properties</code></li>
<li>It cannot have any child DraftElement or DraftCollection, in its collection of <code>Properties</code></li>
<li>It can be deleted (unmaterialised).</li>
<li>It must have a <code>Parent</code>, and that parent <code>DraftItem</code> is the representation of the logical parent defined in the <code>PatternDefinition</code></li>
</ul>
<h4 id="draftcollectionitem">DraftCollectionItem<a class="headerlink" href="#draftcollectionitem" title="Permanent link">#</a></h4>
<p>A <code>DraftItem</code> that represents a <code>DraftElement</code> or <code>DraftCollection</code> that is in the <code>Items</code> collection of another <code>DraftCollection</code>.</p>
<ul>
<li>It must have a <code>Parent</code>, and that parent <code>DraftItem</code> is not the containing <code>DraftCollection</code>, but the next ancestor that is not a <code>DraftCollection</code>. It has an <code>ImmediateParent</code> that is the containing <code>DraftCollection</code>.</li>
</ul>
<h3 id="draftattribute">DraftAttribute<a class="headerlink" href="#draftattribute" title="Permanent link">#</a></h3>
<p>A <code>DraftItem</code> that represents an <code>Attribute</code>.</p>
<ul>
<li>There can be at most one instance of it</li>
<li>It cannot have any "Collection Items" in its collection on <code>Items</code></li>
<li>It cannot have any child (DraftAttributes), in its collection of <code>Properties</code></li>
<li>It cannot have any child DraftElement or DraftCollection, in its collection of <code>Properties</code></li>
<li>It cannot be deleted (unmaterialised) independently from its <code>Parent</code>.</li>
<li>It must have a <code>Parent</code>, and that parent <code>DraftItem</code> is the representation of the logical parent defined in the <code>PatternDefinition</code></li>
</ul>
<h2 id="lifecycle">Lifecycle<a class="headerlink" href="#lifecycle" title="Permanent link">#</a></h2>
<p>When a Draft is created, all of its <code>DraftItem</code>s for all of its <code>Schema</code>, and all of its descendant schema, is instantiated.</p>
<p>This means that all the leaves of the initial tree (with the DraftItem as the root) are built initially.</p>
<p>This is done as a strategy to manage the future addition and subtraction of leaves to the tree. In other words, to know (ahead of time) what those leaves could be and where they are on the tree.</p>
<p>In order to keep track of whether an instance is "assigned" we use the notion of "<a href="#Materialisation">Materialisation</a>".</p>
<p>Only DraftItems for schema that permit creation initially are instantiated. For example, the Pattern, all its Attributes, and any Elements/Collections  (and all their attributes) where <code>AutoCreate=true</code>, are created initially.  Even though Collections may be created, no items are created.</p>
<h3 id="materialisation">Materialisation<a class="headerlink" href="#materialisation" title="Permanent link">#</a></h3>
<p>A DraftItem maintains a state of its own materialisation.</p>
<ul>
<li>Materialised, or</li>
<li>UnMaterialised</li>
</ul>
<p>Materialised DraftItem:</p>
<ul>
<li>A DraftItem has a <code>Value</code> of some sort.<ul>
<li>That would be a value that the user could "see" and interact with.<ul>
<li>For example, if you were to view the "Configuration" of the DraftItem, then only materialised Values would be present in the output.</li>
</ul>
</li>
</ul>
</li>
<li>A DraftItem has a <code>Structure</code> of some sort.<ul>
<li>For an Attribute, and a ephemeral Collection this is nothing</li>
<li>For Pattern/Element/CollectionItem, they will always have materialised Attributes, and descendant Element/Collections.</li>
</ul>
</li>
<li>The user can view, and interact with anything that is Materialised</li>
</ul>
<p>UnMaterialised DraftItem:</p>
<ul>
<li>The <code>Value</code> will always null</li>
<li>All structure of the current Pattern/Attribute/Element/Collection/CollectionItem is also UnMaterialised.</li>
<li>For Collections, their Items are always cleared.</li>
<li>The user cannot view or interact with anything that is UnMaterialised </li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>